# NapCat WebSocket URL
# Examples:
# - Forward WS (OneBot 11 universal): ws://127.0.0.1:6700
# - Forward WS (NapCat OneBot v11): ws://127.0.0.1:6199/onebot/v11/ws
NAPCAT_WS_URL=ws://127.0.0.1:6700

# Connection mode: forward | reverse
# Prefer MODE, fallback to NAPCAT_MODE. If both empty, default is forward.
MODE=reverse
# NAPCAT_MODE=

# If configured, set the ACCESS TOKEN used by NapCat/OneBot implementation
NAPCAT_ACCESS_TOKEN=

# Optional test targets for examples/basic.ts
TEST_GROUP_ID=
TEST_USER_ID=
TEST_REPLY_MSG_ID=

# Owner notify (reverse mode): when connected, send a DM to owner
OWNER_QQ=
# Optional custom text for notify
OWNER_NOTIFY_TEXT=

# Logging level: info | debug | warn | error | silent
LOG_LEVEL=debug
# Event summary printing: always | debug | never
EVENT_SUMMARY=always
# JSON structured logging: true | false
JSON_LOG=false
# Message text max length in logs (0 = no limit, default = 80)
# Set to 0 to show full message without truncation
MESSAGE_TEXT_MAX_LENGTH=80

# Auto wait for WS open on calls
AUTO_WAIT_OPEN=true

# Command router
COMMAND_PREFIX=!

# Reconnect options
RECONNECT=true
RECONNECT_MIN_MS=1000
RECONNECT_MAX_MS=15000
REQUEST_TIMEOUT_MS=15000

# Rate limit
RATE_MAX_CONCURRENCY=5
RATE_MIN_INTERVAL_MS=200

# Retry helpers (for adapter.callRetry / callDataRetry)
RETRY_MAX_ATTEMPTS=3
RETRY_INITIAL_DELAY_MS=500
RETRY_BACKOFF_FACTOR=2
RETRY_JITTER_MS=200

# Event de-duplication for message events
DEDUP_EVENTS=true
DEDUP_TTL_MS=120000

# Whitelist filters (comma-separated, leave empty to allow all)
# Only process messages from these group IDs (empty = all groups allowed)
WHITELIST_GROUPS=
# Only process messages from these user IDs (empty = all users allowed)
WHITELIST_USERS=
# If true, log and ignore non-whitelisted messages; if false, silently drop them
LOG_FILTERED=false

# Reverse WS server (NapCat connects to us)
REVERSE_PORT=6701
REVERSE_PATH=/onebot

# Enable test plugin (for development/testing)
# Set to true to enable test commands (commands starting with #)
ENABLE_TEST_PLUGIN=false

# Message Stream Service (WebSocket实时消息推送)
# 启用消息流服务，通过WebSocket推送格式化消息给外部应用
ENABLE_STREAM=true
# 消息流服务监听端口
STREAM_PORT=6702
# 是否在推送中包含原始事件数据（调试用，会增加数据量）
STREAM_INCLUDE_RAW=false

# AI 助手配置 (OpenAI兼容API)
# 启用AI自动回复功能
ENABLE_AI=false
# OpenAI API基础URL（支持OpenAI/Azure/自定义兼容服务）
AI_API_URL=https://api.openai.com/v1
# OpenAI API密钥
AI_API_KEY=
# 使用的模型名称
AI_MODEL=gpt-4o
# 温度参数 (0.0-2.0)，越高越随机，越低越确定
AI_TEMPERATURE=0.7
# 最大tokens数
AI_MAX_TOKENS=2000
# 系统提示词（可选，为空则使用默认）
AI_SYSTEM_PROMPT=
# AI回复延迟（毫秒），模拟打字效果
AI_REPLY_DELAY=1000
# 是否在summary中包含消息ID（便于AI引用回复）
STREAM_INCLUDE_MESSAGE_ID=true