# 消息流 Summary 格式测试示例

本文档展示不同类型消息的 `summary` 字段格式（类似通讯平台风格，无 ** 强调符号）。

## 1. 私聊文本消息

```markdown
[2025/10/16 11:37:50] | 私聊 | 发送者: 之一一(QQ:2166683295)

你好，在吗？
```

## 2. 私聊图片消息

```markdown
[2025/10/16 11:38:22] | 私聊 | 发送者: 之一一(QQ:2166683295)

**发送了1张图片:**
- ![FE861DCAA4F377713631CAE678228464.jpg](https://multimedia.nt.qq.com.cn/download?appid=1406&fileid=xxx)
```

## 3. 群聊文本消息（普通成员）

```markdown
[2025/10/16 11:40:15] | 群聊 | 群名: Python学习群 | 群号: 123456789 | 发送者: 张三(小张)(QQ:987654321)

**消息内容:** 大家好，请教一个问题
```

## 4. 群聊消息（群主）

```markdown
[2025/10/16 11:42:30] | 群聊 | 群名: Python学习群 | 群号: 123456789 | 发送者: 李四[群主](QQ:111222333)

**消息内容:** 欢迎新成员加入
```

## 5. 群聊消息（管理员）

```markdown
[2025/10/16 11:43:00] | 群聊 | 群名: Python学习群 | 群号: 123456789 | 发送者: 王五[管理员](QQ:444555666)

**消息内容:** 请大家遵守群规
```

## 6. 图片+文本组合

```markdown
[2025/10/16 11:45:20] | 私聊 | 发送者: 之一一(QQ:2166683295)

**消息内容:** 看这张图

**发送了1张图片:**
- ![screenshot.png](https://multimedia.nt.qq.com.cn/download?appid=1406&fileid=xxx)
```

## 7. 多张图片

```markdown
[2025/10/16 11:50:10] | 群聊 | 群名: 摄影群 | 群号: 987654321 | 发送者: 摄影师(QQ:123123123)

**消息内容:** 今天拍的照片

**发送了3张图片:**
- ![photo1.jpg](https://multimedia.nt.qq.com.cn/xxx)
- ![photo2.jpg](https://multimedia.nt.qq.com.cn/yyy)
- ![photo3.jpg](https://multimedia.nt.qq.com.cn/zzz)
```

## 8. 文件消息

```markdown
[2025/10/16 12:00:00] | 私聊 | 发送者: 同事(QQ:999888777)

**消息内容:** 这是会议纪要

**发送了1个文件:**
- [会议纪要2025.docx](https://download.qq.com/xxx) (245.8KB)
```

## 9. 多个文件

```markdown
[2025/10/16 12:05:30] | 群聊 | 群名: 项目组 | 群号: 555666777 | 发送者: 项目经理(QQ:222333444)

**发送了3个文件:**
- [需求文档.pdf](https://download.qq.com/aaa) (1.2MB)
- [技术方案.docx](https://download.qq.com/bbb) (856.3KB)
- [时间表.xlsx](https://download.qq.com/ccc) (45.6KB)
```

## 10. 语音消息

```markdown
[2025/10/16 12:10:00] | 私聊 | 发送者: 朋友(QQ:888999000)

**发送了1条语音消息**
```

## 11. 视频消息

```markdown
[2025/10/16 12:15:00] | 群聊 | 群名: 旅游群 | 群号: 333444555 | 发送者: 旅行者(QQ:666777888)

**消息内容:** 昨天拍的视频

**发送了1个视频:**
- [旅行日记.mp4](https://multimedia.nt.qq.com.cn/xxx)
```

## 12. 引用消息（回复文本）

```markdown
[2025/10/16 12:20:00] | 群聊 | 群名: 技术讨论群 | 群号: 777888999 | 发送者: 开发者(QQ:111000111)

> 回复消息ID: 12345678
> 引用内容: 这个bug怎么解决？

**消息内容:** 已经修复了，请更新代码
```

## 13. 引用消息（回复图片）

```markdown
[2025/10/16 12:25:00] | 私聊 | 发送者: 设计师(QQ:222000222)

> 回复消息ID: 1383445413
> 引用内容: [图片]
> 引用图片(1张):
>   1. BF10159781582341194CDD4385D61902.jpg
>      路径: C:\Users\1\Documents\Tencent Files\2857896171\nt_qq\nt_data\Pic\2025-10\Ori\bf10159781582341194cdd4385d61902.jpg

**消息内容:** 收到
```

## 14. 引用消息（回复多张图片）

```markdown
[2025/10/16 12:30:00] | 群聊 | 群名: 摄影群 | 群号: 888999000 | 发送者: 摄影爱好者(QQ:333000333)

> 回复消息ID: 11223344
> 引用内容: 这些照片不错
> 引用图片(3张):
>   1. photo1.jpg
>      路径: C:\...\photo1.jpg
>   2. photo2.jpg
>      路径: C:\...\photo2.jpg
>   3. photo3.jpg
>      路径: C:\...\photo3.jpg

**消息内容:** 谢谢，都是精心拍摄的
```

## 15. 引用消息（回复文件）

```markdown
[2025/10/16 12:35:00] | 私聊 | 发送者: 同事(QQ:444000444)

> 回复消息ID: 22334455
> 引用内容: 会议资料
> 引用文件(2个):
>   1. 会议纪要.pdf (245.8KB)
>      URL: https://download.qq.com/xxx
>   2. 时间表.xlsx (56.3KB)
>      URL: https://download.qq.com/yyy

**消息内容:** 已经下载了
```

## 16. 引用消息（回复语音）

```markdown
[2025/10/16 12:40:00] | 私聊 | 发送者: 朋友(QQ:555000555)

> 回复消息ID: 33445566
> 引用内容: [语音]
> 引用语音(1条):
>   1. C:\Users\1\Documents\Tencent Files\...\voice.amr

**消息内容:** 听到了
```

## 17. @单人消息

```markdown
[2025/10/16 12:35:00] | 群聊 | 群名: 工作群 | 群号: 444555666 | 发送者: 主管(QQ:444000444)

**消息内容:** 请处理一下这个任务

**@了1人:** 555666777
```

## 18. @多人消息

```markdown
[2025/10/16 12:40:00] | 群聊 | 群名: 项目组 | 群号: 555666777 | 发送者: PM(QQ:555000555)

**消息内容:** 请大家注意明天的会议

**@了3人:** 111222333, 444555666, 777888999
```

## 19. @全体成员

```markdown
[2025/10/16 12:45:00] | 群聊 | 群名: 公司群 | 群号: 999000111 | 发送者: HR[管理员](QQ:666000666)

**消息内容:** 明天放假通知

**@全体成员**
```

## 20. 复杂消息（文本+图片+@）

```markdown
[2025/10/16 12:50:00] | 群聊 | 群名: 活动群 | 群号: 222333444 | 发送者: 组织者[管理员](QQ:777000777)

**消息内容:** 活动现场照片来了

**发送了5张图片:**
- ![活动1.jpg](https://multimedia.nt.qq.com.cn/aaa?file=活动1.jpg)
- ![活动2.jpg](https://multimedia.nt.qq.com.cn/bbb?file=活动2.jpg)
- ![活动3.jpg](https://multimedia.nt.qq.com.cn/ccc?file=活动3.jpg)
- ![活动4.jpg](https://multimedia.nt.qq.com.cn/ddd?file=活动4.jpg)
- ![活动5.jpg](https://multimedia.nt.qq.com.cn/eee?file=活动5.jpg)

**@了2人:** 888999000, 111222333
```

## 21. 复杂消息（引用+文本+文件）

```markdown
[2025/10/16 13:00:00] | 群聊 | 群名: 文档共享群 | 群号: 666777888 | 发送者: 文档管理员(QQ:888000888)

> 回复消息ID: 99887766
> 引用内容: 需要上周的会议记录

**消息内容:** 找到了，发你

**发送了1个文件:**
- [上周会议记录.pdf](https://download.qq.com/xxx) (1.8MB)
```

## 格式特点

1. **时间格式**: `[2025/10/16 HH:MM:SS]`
2. **消息类型**: `私聊` 或 `群聊`
3. **群信息**: `群名: xxx | 群号: 123456789`
4. **发送者**: `姓名(群名片)[角色](QQ:号码)`
5. **角色标识**: `[群主]` 或 `[管理员]`
6. **消息内容**: `**消息内容:** 文本`
7. **图片**: `**发送了X张图片:**` + `- ![文件名](url?file=文件名)`
   - 当前消息的图片URL会自动追加 `?file=` 参数
8. **文件**: `**发送了X个文件:**` + `- [文件名](url?file=文件名) (大小)`
   - 当前消息的文件URL会自动追加 `?file=` 参数
9. **视频**: `**发送了X个视频:**` + `- [文件名](url?file=文件名)`
   - 当前消息的视频URL会自动追加 `?file=` 参数
10. **语音**: `**发送了X条语音消息**`
11. **引用消息**: 
    - 基本信息: `> 回复消息ID: xxx` + `> 引用内容: xxx`
    - 引用图片: `> 引用图片(X张):` + `>   序号. 文件名` + `>      路径: 本地完整路径`
    - 引用语音: `> 引用语音(X条):` + `>   序号. 本地完整路径`
    - 引用文件: `> 引用文件(X个):` + `>   序号. 文件名(大小)` + `>      URL: xxx`
    - 引用视频: `> 引用视频(X个)`
    - 引用转发: `> 引用转发(X条):` + `>   序号. Y条消息` + `>      预览: xxx`
12. **@提及**: `**@了X人:** 号码列表` 或 `**@全体成员**`

## 优势

- ✅ 无 emoji，纯文本
- ✅ 标准 Markdown 语法
- ✅ 包含完整详细信息（QQ号、群号等）
- ✅ 结构统一，易于解析
- ✅ 便于机器学习训练
- ✅ 人类易读
